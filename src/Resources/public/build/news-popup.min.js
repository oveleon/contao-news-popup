var NewsPopup=(()=>{var m=(e,t)=>()=>(e&&(t=e(e=0)),t),y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var I=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)};var i=(e,t,s)=>(I(e,t,"access private method"),s);function c(){for(var e,t,s,o=arguments[0]||{},h=1,f=arguments.length;h<f;h++)if((e=arguments[h])!==null)for(t in e)s=e[t],o!==s&&s!==void 0&&(o[t]=s);return o}var p=m(()=>{});var k=y((L,g)=>{p();var a,S,n,u,l,v,d=class{constructor(t,s){r(this,a);r(this,n);r(this,l);var o;this.options=c({closeButton:null,delay:0,storage:{mode:"local",key:"cnp",data:null},onOpen:()=>{},onClose:()=>{}},s||{}),this.popup=t,this.storage=i(this,l,v).call(this),i(this,a,S).call(this),((o=this.storage)==null?void 0:o.hasOwnProperty(this.currentId))||setTimeout(()=>{this.open()},this.options.delay)}open(){this.popup.classList.add("open"),this.options.onOpen.call(this)}close(t){t&&i(this,n,u).call(this),this.popup.classList.remove("open"),this.options.onClose.call(this)}};a=new WeakSet,S=function(){var s;this.options.closeButton&&this.options.closeButton.addEventListener("click",()=>{this.close(!0)});let t=document.querySelector("[data-np-id]");t&&(this.currentId=(s=t==null?void 0:t.dataset)==null?void 0:s.npId,t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",()=>{i(this,n,u).call(this)})}))},n=new WeakSet,u=function(){!this.currentId||(this.storage||(this.storage={}),this.storage[this.currentId]={id:this.currentId,date:new Date},localStorage.setItem(this.options.storage.key,JSON.stringify(this.storage)))},l=new WeakSet,v=function(){switch(this.options.storage.mode){case"local":return JSON.parse(localStorage.getItem(this.options.storage.key));case"database":return this.options.storage.data}};g.exports=d});return k();})();
//# sourceMappingURL=news-popup.min.js.map
